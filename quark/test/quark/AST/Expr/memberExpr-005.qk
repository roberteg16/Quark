// RUN: quark --emit-ast "%s" 2>&1 | FileCheck "%s"

type Foo1 {
 a *f64
}

type Foo2 {
  a Foo1
  b f32
}

fn (foo2 *Foo2) foo: -> void {
  foo2->b;
//      CHECK:MemberExpr: 'b' f32
// CHECK-NEXT:ImplicitCastExpr: LValueToRValue
// CHECK-NEXT:VarRefExpr: *Foo2 foo2

  foo2->a;
//      CHECK:MemberExpr: 'a' Foo1
// CHECK-NEXT:ImplicitCastExpr: LValueToRValue
// CHECK-NEXT:VarRefExpr: *Foo2 foo2

  foo2->a.a;
//      CHECK:MemberExpr: 'a' *f64
// CHECK-NEXT:MemberExpr: 'a' Foo1
// CHECK-NEXT:ImplicitCastExpr: LValueToRValue
// CHECK-NEXT:VarRefExpr: *Foo2 foo2
}
